<?xml version="1.0" encoding="UTF-8"?>
<cursor xmlns="http://bio4j.ru/biodef-repo/store"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://bio4j.ru/biodef-repo/store http://bio4j.ru/biodef-repo/store/store-v10.xsd">
    <SQL action="select">
        <text><![CDATA[
select
  a.screenplayid as id,
  a.aname||' ('||a.anote||') - '||a.filename as caption
from
  SCREENPLAY a
where not a.isdeleted
  and ((:query is null) or (upper(a.aname) like '%'||upper(:query)||'%'))
        ]]></text>
    </SQL>

    <fields>
        <field name="id" type="integer" header="ID" pk="true"/>
        <field name="caption" type="string" header="Сценарий"/>
    </fields>
</cursor>